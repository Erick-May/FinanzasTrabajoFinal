@using FinanzasTrabajoFinal.MODELS

<h4 class="mt-3">@Titulo</h4>

<div class="table-responsive">
    <table class="table table-striped table-hover table-sm">
        <thead class="table-light">
            <tr>
                <th>Concepto</th>
                @foreach (var anio in Años.OrderBy(a => a))
                {
                    <th class="text-end">@anio</th>
                }
            </tr>
        </thead>
        <tbody>
            @foreach (var item in Resultados)
            {
                <tr>
                    <td>@item.Concepto</td>
                    @foreach (var anio in Años.OrderBy(a => a))
                    {
                        var valor = item.ValoresPorAnio.GetValueOrDefault(anio);
                        <td class="text-end">
                            @if (EsPorcentaje)
                            {
                                @valor.ToString("P2")
                            }
                            else
                            {
                                @valor.ToString("N2")
                            }
                        </td>
                    }
                </tr>
            }
        </tbody>
    </table>
</div>


@code {
    [Parameter]
    public string Titulo { get; set; } = "Resultados";

    [Parameter]
    public List<int> Años { get; set; } = new();

    [Parameter]
    public List<ResultadoCalculado> Resultados { get; set; } = new();

    [Parameter]
    public bool EsPorcentaje { get; set; } = false;
}